{"version":3,"sources":["scripts/highscore.js","assets/words.yml","scripts/index.js"],"names":["getHighscore","highscore","parseInt","localStorage","getItem","setHighscore","val","setItem","module","exports","interval","$currentWord","document","getElementById","$textField","$time","$score","$highscore","currentWord","inGame","time","score","body","onload","innerText","focus","oninput","textFieldUpdate","text","value","toLowerCase","startGame","round","setInterval","endGame","increaseTime","words","Math","floor","random","length","clearInterval","console","log"],"mappings":";AAKA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,QAAA,kBAAA,EALA,IAAMA,EAAe,WAEZC,OADWC,SAASC,aAAaC,QAAQ,eAAiB,GAInE,QAAA,aAAA,EAAA,IAAMC,EAAe,SAACC,GACpBH,aAAaI,QAAQ,YAAaD,IADpC,QAAA,aAAA;;ACLAE,OAAOC,QAAQ,CAAC,aAAa,aAAa,SAAS,SAAS,YAAY;;ACsExE,aAtEA,IAAA,EAAA,QAAA,kBAIA,EAAA,EAAA,QAAA,uBAkEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhEA,IAUIC,EAVEC,EAAeC,SAASC,eAAe,gBACvCC,EAAaF,SAASC,eAAe,cACrCE,EAAQH,SAASC,eAAe,QAChCG,EAASJ,SAASC,eAAe,SACjCI,EAAaL,SAASC,eAAe,aAEvCK,EAAc,GACdC,GAAS,EACTC,EAAO,EACPC,EAAQ,EAGZT,SAASU,KAAKC,OAAS,WACrBZ,EAAaa,UAAY,uBACzBV,EAAWW,QAEXX,EAAWY,QAAUC,EAErBV,EAAWO,WAAY,EAAvB,EAAA,iBAGF,IAAMG,EAAkB,WAChBC,IAAAA,EAAOd,EAAWe,MAAMC,cAEzBX,GAAmB,UAATS,GAAkBG,IAG7BZ,GAAUS,IAASV,GAAac,EAAM,IAGtCD,EAAY,WAChBZ,GAAS,EACTE,EAAQ,EAGRW,EAAM,GAENtB,EAAWuB,YAAY,WACrBb,IACAL,EAAMS,UAAYJ,EACdA,GAAQ,GACVc,KAED,MAGCF,EAAQ,SAAC1B,GAEbQ,EAAWe,MAAQ,GAEnBM,EAAa7B,GACbe,IACAL,EAAOQ,UAAYH,EAGnBH,EAAckB,EAAMC,QAAAA,KAAKC,MAAMD,KAAKE,SAAWH,EAAMI,QAAAA,SACrD7B,EAAaa,UAAYN,GAIrBiB,EAAe,SAAC7B,GACpBc,GAAcd,GAGV4B,EAAU,WAEdO,cAAc/B,GAEdS,GAAS,EAGHlB,IAAAA,GAAY,EAAlB,EAAA,gBACIoB,EAAQpB,IACVyC,QAAQC,IAAI,+BAEZ1B,EAAWO,UAAYH,GACVA,EAAAA,EAAAA,cAAAA,IAGfV,EAAaa,UAAY,6BACzBV,EAAWe,MAAQ","file":"scripts.5a2e9fda.js","sourceRoot":"../src","sourcesContent":["const getHighscore = () => {\n  const highscore = parseInt(localStorage.getItem('highscore')) || 0;\n  return highscore;\n};\n\nconst setHighscore = (val) => {\n  localStorage.setItem('highscore', val);\n};\n\nexport { getHighscore, setHighscore };\n","module.exports=[\"javascript\",\"stewardess\",\"zephyr\",\"sphinx\",\"australia\",\"integration\"];","import {\n  getHighscore,\n  setHighscore\n} from './highscore.js';\nimport words from '~/assets/words.yml';\n\nconst $currentWord = document.getElementById('current_word');\nconst $textField = document.getElementById('text_field');\nconst $time = document.getElementById('time');\nconst $score = document.getElementById('score');\nconst $highscore = document.getElementById('highscore');\n\nvar currentWord = '';\nvar inGame = false;\nvar time = 0; // milliseconds\nvar score = 0;\nvar interval;\n\ndocument.body.onload = () => {\n  $currentWord.innerText = 'Type \"start\" to play';\n  $textField.focus();\n\n  $textField.oninput = textFieldUpdate;\n\n  $highscore.innerText = getHighscore();\n};\n\nconst textFieldUpdate = () => {\n  const text = $textField.value.toLowerCase();\n\n  if (!inGame && text === 'start') startGame();\n\n  // if word guessed correct, get an extra second\n  if (inGame && text === currentWord) round(1);\n};\n\nconst startGame = () => {\n  inGame = true;\n  score = 0;\n\n  // 5 seconds to start\n  round(5);\n\n  interval = setInterval(() => {\n    time--;\n    $time.innerText = time;\n    if (time <= 0) {\n      endGame();\n    }\n  }, 1000);\n};\n\nconst round = (val) => {\n  // clear the textfield\n  $textField.value = '';\n\n  increaseTime(val);\n  score++;\n  $score.innerText = score;\n\n  // get random word\n  currentWord = words[Math.floor(Math.random() * words.length)];\n  $currentWord.innerText = currentWord;\n};\n\n// when word typed\nconst increaseTime = (val) => {\n  time = time + val;\n};\n\nconst endGame = () => {\n  // reset timer\n  clearInterval(interval);\n\n  inGame = false;\n\n  // check if score more than highscore\n  const highscore = getHighscore();\n  if (score > highscore) {\n    console.log('high score has been beaten!');\n    // set new highscore\n    $highscore.innerText = score;\n    setHighscore(score);\n  }\n\n  $currentWord.innerText = 'Type \"start\" to play again';\n  $textField.value = '';\n};\n"]}