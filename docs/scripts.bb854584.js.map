{"version":3,"sources":["scripts/highscore.js","scripts/utils.js","assets/words.yml","scripts/index.js"],"names":["getHighscore","highscore","parseInt","localStorage","getItem","setHighscore","val","setItem","hide","elem","style","display","show","module","exports","interval","$startText","document","getElementById","$currentWord","$textField","$time","$finalScoreWrapper","$finalScore","$score","$highscore","currentWord","inGame","time","gameLenght","score","body","onload","innerText","focus","oninput","textFieldUpdate","placeholder","text","value","toLowerCase","startGame","round","setInterval","endGame","increaseTime","words","Math","floor","random","length","clearInterval","innerHTML","console","log"],"mappings":";AAKA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,QAAA,kBAAA,EALA,IAAMA,EAAe,WAEZC,OADWC,SAASC,aAAaC,QAAQ,eAAiB,GAInE,QAAA,aAAA,EAAA,IAAMC,EAAe,SAACC,GACpBH,aAAaI,QAAQ,YAAaD,IADpC,QAAA,aAAA;;ACDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,QAAA,UAAA,EAJA,IAAME,EAAO,SAACC,GACZA,EAAKC,MAAMC,QAAU,QAGvB,QAAA,KAAA,EAAA,IAAMC,EAAO,SAACH,GACZA,EAAKC,MAAMC,QAAU,SADvB,QAAA,KAAA;;ACJAE,OAAOC,QAAQ,CAAC,aAAa,aAAa,SAAS,SAAS,YAAY,cAAc,UAAU,YAAY,SAAS,WAAW,WAAW,aAAa,OAAO,YAAY,SAAS,WAAW,YAAY,SAAS,eAAe,UAAU,aAAa,gBAAgB,WAAW,aAAa,QAAQ,WAAW,QAAQ,OAAO;;ACqFpU,aArFA,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,uBAmFA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjFA,IAcIC,EAdEC,EAAaC,SAASC,eAAe,cACrCC,EAAeF,SAASC,eAAe,gBACvCE,EAAaH,SAASC,eAAe,cACrCG,EAAQJ,SAASC,eAAe,QAChCI,EAAqBL,SAASC,eAAe,uBAC7CK,EAAcN,SAASC,eAAe,eACtCM,EAASP,SAASC,eAAe,SACjCO,EAAaR,SAASC,eAAe,aAEvCQ,EAAc,GACdC,GAAS,EACTC,EAAO,EACLC,EAAa,EACfC,EAAQ,EAGZb,SAASc,KAAKC,OAAS,YAChBb,EAAAA,EAAAA,MAAAA,GACLE,EAAMY,UAAeJ,GAAAA,OAAAA,EAArB,KAEAT,EAAWc,QACXd,EAAWe,QAAUC,EAErBhB,EAAWiB,YAAc,gBAGpBf,EAAAA,EAAAA,MAAAA,GAELG,EAAWQ,WAAY,EAAvB,EAAA,iBAGF,IAAMG,EAAkB,WAChBE,IAAAA,EAAOlB,EAAWmB,MAAMC,cAEzBb,GAAmB,UAATW,GAAkBG,IAG7Bd,GAAUW,IAASZ,GAAagB,EAAM,IAGtCD,EAAY,WAChBd,GAAS,EACTG,EAAQ,EAGRY,EAAMb,IAEDV,EAAAA,EAAAA,MAAAA,IACAH,EAAAA,EAAAA,MAAAA,IAGAM,EAAAA,EAAAA,MAAAA,GAELP,EAAW4B,YAAY,WACrBf,IACAP,EAAMY,UAAeL,GAAAA,OAAAA,EAArB,KACIA,GAAQ,GACVgB,KAED,MAGCF,EAAQ,SAACpC,GAEbc,EAAWmB,MAAQ,GAEnBM,EAAavC,GACbwB,IACAN,EAAOS,UAAYH,EAGnBJ,EAAcoB,EAAMC,QAAAA,KAAKC,MAAMD,KAAKE,SAAWH,EAAMI,QAAAA,SACrD/B,EAAac,UAAYP,EACzBN,EAAWiB,YAAuBX,SAAAA,OAAAA,EAAlC,MAIImB,EAAe,SAACvC,GACpBsB,GAActB,GAGVsC,EAAU,WAEdO,cAAcpC,GAEdY,GAAS,GAGJX,EAAAA,EAAAA,MAAAA,GACLA,EAAWoC,UARS,+FAapB7B,EAAYU,UAAYH,GACnBR,EAAAA,EAAAA,MAAAA,GAGLF,EAAWiB,YAAc,eAGnBpC,IAAAA,GAAY,EAAlB,EAAA,gBACI6B,EAAQ7B,IACVoD,QAAQC,IAAI,+BAEZ7B,EAAWQ,UAAYH,GACVA,EAAAA,EAAAA,cAAAA,KAGVX,EAAAA,EAAAA,MAAAA,GACLC,EAAWmB,MAAQ","file":"scripts.bb854584.js","sourceRoot":"../src","sourcesContent":["const getHighscore = () => {\n  const highscore = parseInt(localStorage.getItem('highscore')) || 0;\n  return highscore;\n};\n\nconst setHighscore = (val) => {\n  localStorage.setItem('highscore', val);\n};\n\nexport { getHighscore, setHighscore };\n","const hide = (elem) => {\n  elem.style.display = 'none';\n};\n\nconst show = (elem) => {\n  elem.style.display = 'block';\n};\n\nexport { hide, show };\n","module.exports=[\"javascript\",\"stewardess\",\"zephyr\",\"sphinx\",\"australia\",\"integration\",\"startup\",\"difficult\",\"editor\",\"suburban\",\"assuming\",\"obstinance\",\"duck\",\"ethnicity\",\"wombat\",\"monopoly\",\"literally\",\"ironic\",\"irregardless\",\"colonel\",\"nonplussed\",\"disinterested\",\"enormity\",\"lieutenant\",\"seven\",\"keyboard\",\"juice\",\"lazy\",\"touch\"];","import { getHighscore, setHighscore } from './highscore.js';\nimport { hide, show } from './utils.js';\nimport words from '~/assets/words.yml';\n\nconst $startText = document.getElementById('start_text');\nconst $currentWord = document.getElementById('current_word');\nconst $textField = document.getElementById('text_field');\nconst $time = document.getElementById('time');\nconst $finalScoreWrapper = document.getElementById('final_score_wrapper');\nconst $finalScore = document.getElementById('final_score');\nconst $score = document.getElementById('score');\nconst $highscore = document.getElementById('highscore');\n\nvar currentWord = '';\nvar inGame = false;\nvar time = 0; // milliseconds\nconst gameLenght = 5; // milliseconds\nvar score = 0;\nvar interval;\n\ndocument.body.onload = () => {\n  hide($currentWord);\n  $time.innerText = `${gameLenght}s`;\n\n  $textField.focus();\n  $textField.oninput = textFieldUpdate;\n  // set placeholder to \"start\"\n  $textField.placeholder = 'type \"start\"';\n\n  // hide final score, should only show at end of game\n  hide($finalScoreWrapper);\n\n  $highscore.innerText = getHighscore();\n};\n\nconst textFieldUpdate = () => {\n  const text = $textField.value.toLowerCase();\n\n  if (!inGame && text === 'start') startGame();\n\n  // if word guessed correct, get an extra second\n  if (inGame && text === currentWord) round(1);\n};\n\nconst startGame = () => {\n  inGame = true;\n  score = 0;\n\n  // start round\n  round(gameLenght);\n\n  show($currentWord);\n  hide($startText);\n\n  // hide final score, should only show at end of game\n  hide($finalScoreWrapper);\n\n  interval = setInterval(() => {\n    time--;\n    $time.innerText = `${time}s`;\n    if (time <= 0) {\n      endGame();\n    }\n  }, 1000);\n};\n\nconst round = (val) => {\n  // clear the textfield\n  $textField.value = '';\n\n  increaseTime(val);\n  score++;\n  $score.innerText = score;\n\n  // get random word\n  currentWord = words[Math.floor(Math.random() * words.length)];\n  $currentWord.innerText = currentWord;\n  $textField.placeholder = `type \"${currentWord}\"`;\n};\n\n// when word typed\nconst increaseTime = (val) => {\n  time = time + val;\n};\n\nconst endGame = () => {\n  // reset timer\n  clearInterval(interval);\n\n  inGame = false;\n\n  // show start text and change text\n  show($startText);\n  $startText.innerHTML = `\n    <span class=\"game-over\">Game over. </span> Type \"<b>start</b> to play again</span>\n  `;\n\n  // show final score\n  $finalScore.innerText = score;\n  show($finalScoreWrapper);\n\n  // set placeholder to \"start\"\n  $textField.placeholder = 'type \"start\"';\n\n  // check if score more than highscore\n  const highscore = getHighscore();\n  if (score > highscore) {\n    console.log('high score has been beaten!');\n    // set new highscore\n    $highscore.innerText = score;\n    setHighscore(score);\n  }\n\n  hide($currentWord);\n  $textField.value = '';\n};\n"]}